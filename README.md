# Update Cursor

A Python application that automatically downloads and installs the latest version of Cursor (AI-first code editor) for Linux systems.

## Directory Structure

```
/opt/update-cursor/
‚îú‚îÄ‚îÄ bin/                  # Executables you want in $PATH
‚îÇ   ‚îî‚îÄ‚îÄ update-cursor         # Small launcher script (runs main.py)
‚îú‚îÄ‚îÄ lib/                  # Python scripts / core code
‚îÇ   ‚îî‚îÄ‚îÄ main.py              # Main Python application
‚îú‚îÄ‚îÄ updater/              # TypeScript update script
‚îÇ   ‚îî‚îÄ‚îÄ fetch_updates.ts     # Fetches latest download links
‚îú‚îÄ‚îÄ data/                 # JSON or other persistent data
‚îÇ   ‚îú‚îÄ‚îÄ version-history.json
‚îÇ   ‚îî‚îÄ‚îÄ version-history.json.backup
‚îú‚îÄ‚îÄ docs/                 # Documentation
‚îÇ   ‚îî‚îÄ‚îÄ README.md            # Detailed documentation
‚îú‚îÄ‚îÄ config/               # Config or version info
‚îÇ   ‚îî‚îÄ‚îÄ version.txt          # Current version tracking
‚îî‚îÄ‚îÄ LICENSE               # License file
```

## Quick Start

1. **Install Bun** (if not already installed):
   ```bash
   curl -fsSL https://bun.sh/install | bash
   ```

2. **Run the update script**:
   ```bash
   # For system-wide installation (recommended)
   sudo /opt/update-cursor/bin/update-cursor

   # For user-only installation
   /opt/update-cursor/bin/update-cursor
   ```

3. **Add to PATH** (optional):
   ```bash
   echo 'export PATH="/opt/update-cursor/bin:$PATH"' >> ~/.bashrc
   source ~/.bashrc
   ```

## Features

- üîÑ **Automatic Version Checking**: Compares current installed version with latest available
- üì¶ **Smart Download**: Only downloads when a newer version is available
- üöÄ **One-Click Installation**: Automatically installs to `/usr/local/bin/cursor` or `~/.local/bin/cursor`
- üñ•Ô∏è **Desktop Integration**: Creates/updates desktop file for application menu
- üìä **Progress Tracking**: Real-time download progress with percentage
- ‚úÖ **Success/Failure Tracking**: Comprehensive counters for all operations
- üîß **Error Handling**: Robust error handling with detailed feedback
- üîê **Sudo Support**: Handles both regular user and sudo execution scenarios

## Requirements

- **Python 3.6+**
- **Bun** (JavaScript runtime for running TypeScript scripts)
- **Linux system** (tested on Ubuntu/Debian)
- **Internet connection** for downloading updates
- **sudo privileges** (optional - for system-wide installation only)

## Installation Types

### System-wide Installation (with sudo)
- **Location**: `/usr/local/bin/cursor`
- **Access**: Available to all users on the system
- **Desktop File**: System-wide application menu entry
- **Command**: `sudo /opt/update-cursor/bin/update-cursor`

### User-only Installation (without sudo)
- **Location**: `~/.local/bin/cursor`
- **Access**: Available only to the current user
- **Desktop File**: User-specific application menu entry
- **Command**: `/opt/update-cursor/bin/update-cursor`
- **Note**: You may need to add `~/.local/bin` to your PATH to run `cursor` from anywhere

## Configuration

The application automatically handles:
- **Version History**: `data/version-history.json` (generated by TypeScript script)
- **Installation Path**:
  - **With sudo**: `/usr/local/bin/cursor` (system-wide)
  - **Without sudo**: `~/.local/bin/cursor` (user-only)
- **Desktop File**: `~/.local/share/applications/cursor.desktop`
- **Version File**: `config/version.txt`

## Troubleshooting

### Bun Not Found
If you get "Bun is not installed or not in PATH" error:

1. **Check if Bun is installed**:
   ```bash
   ls ~/.bun/bin/bun
   ```

2. **If not installed, install Bun**:
   ```bash
   curl -fsSL https://bun.sh/install | bash
   ```

### Permission Issues
- **With sudo**: Ensure the script runs as the original user for file operations
- **Without sudo**: The script automatically uses user-specific directories

### Installation Conflicts
**Important**: Avoid mixing installation methods to prevent conflicts:

- **Conflicting installations**: The script will warn if both system-wide (`/usr/local/bin/cursor`) and user-specific (`~/.local/bin/cursor`) installations exist

**If you need to switch installation methods**:
1. Remove the old installation first
2. Then run the script with the new method

## License

This project is under MIT License.

## Acknowledgments

- **Cursor Team** for creating the amazing AI-first code editor
- **oslook/cursor-ai-downloads** repository for maintaining version information
- **Python Community** for the excellent standard library

**Note**: This script is designed for Linux systems. For other operating systems, please refer to the official Cursor documentation for installation instructions.

## If it fails for some reason, store the repo in /opt, and run
```bash
sudo ln -s /opt/update-cursor/bin/update-cursor /usr/bin
```